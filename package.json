{
  "name": "chatkit-root",
  "private": true,
  "scripts": {
    "frontend:install": "npm install --prefix frontend",
    "frontend:dev": "npm run --prefix frontend dev",
    "frontend:build": "npm run --prefix frontend build",
    "frontend:preview": "npm run --prefix frontend preview",
    "backend:sync": "sh -c 'if command -v uv >/dev/null; then uv sync --project backend; else python3 -m pip install -r backend/requirements.txt; fi'",
    "backend:dev": "sh -c 'if command -v uv >/dev/null; then uv run --project backend uvicorn server:app --reload --app-dir backend; else python3 -m uvicorn server:app --reload --app-dir backend; fi'",
    "backend:test": "sh -c 'if command -v uv >/dev/null; then uv run --project backend pytest backend/tests || python3 -m pytest backend/tests; else python3 -m pytest backend/tests; fi'",
    "backend:lint": "sh -c 'if command -v uv >/dev/null; then uv run --project backend ruff check backend; else python3 -m ruff check backend; fi'",
    "backend:format": "sh -c 'if command -v uv >/dev/null; then uv run --project backend isort backend && uv run --project backend black backend; else python3 -m isort backend && python3 -m black backend; fi'",
    "backend:mypy": "sh -c 'if command -v uv >/dev/null; then (cd backend && uv run mypy); else (cd backend && python3 -m mypy); fi'",
    "diagnostic:env": "node scripts/check-env.js"
  }
}
