# Exemple de configuration pour le backend et le frontend ChatKit
# Dupliquez ce fichier en `.env` (à la racine) et adaptez les valeurs.

# --- Backend FastAPI ---
# Fournisseur LLM utilisé par le backend ("openai" par défaut).
# Basculez sur "litellm" pour pointer vers un proxy LiteLLM compatible OpenAI,
# ou fournissez vos propres variables `MODEL_API_BASE` / `MODEL_API_KEY_ENV`.
# MODEL_PROVIDER="openai"

# Configuration OpenAI (active lorsque MODEL_PROVIDER=openai).
# Clé API OpenAI disposant de l'accès ChatKit (obligatoire dans ce mode)
OPENAI_API_KEY="sk-your-openai-api-key"
# URL de base de l'API OpenAI (optionnel)
# CHATKIT_API_BASE="https://api.openai.com"

# Configuration LiteLLM (ex : proxy local servant plusieurs fournisseurs LLM)
# MODEL_PROVIDER="litellm"
# LITELLM_API_BASE="http://localhost:4000" # URL de votre proxy LiteLLM
# LITELLM_API_KEY="sk-litellm-proxy"       # clé partagée pour authentifier le proxy
# # Ajoutez également dans ce fichier les clés des fournisseurs cibles attendues
# # par LiteLLM : ANTHROPIC_API_KEY, GEMINI_API_KEY, MISTRAL_API_KEY, AZURE_OPENAI_API_KEY, etc.
# # Le proxy lit ces variables directement et les utilise pour router les requêtes.

# Configuration avancée (fournisseur personnalisé compatible OpenAI)
# MODEL_API_BASE="https://mon-proxy-openai.example.com" # surcharge explicite de l'URL de base
# MODEL_API_KEY_ENV="CUSTOM_PROVIDER_API_KEY"          # variable contenant la clé à utiliser
# CUSTOM_PROVIDER_API_KEY="sk-proxy-..."

# Modèle, instructions et voix par défaut pour les sessions vocales Realtime (optionnels)
# CHATKIT_REALTIME_MODEL="gpt-4o-realtime-preview-2024-12-17" # utilisé lorsque le frontend ne précise rien
# CHATKIT_REALTIME_INSTRUCTIONS="Tu accompagnes les utilisateurs en voix" # consignes transmises au serveur Realtime
# CHATKIT_REALTIME_VOICE="verse" # voix Realtime sélectionnée par défaut

# Origines autorisées pour les requêtes navigateur (optionnel, séparées par des virgules)
# ALLOWED_ORIGINS="http://localhost:5173,https://chatkit.example.com"

# --- Rate Limiting Configuration ---
# Le rate limiting est activé par défaut et utilise Redis (partagé avec Celery).
# Pour le désactiver (développement uniquement), décommentez :
# RATE_LIMIT_ENABLED="false"
# La configuration Redis est partagée avec Celery (voir CELERY_BROKER_URL ci-dessous)

# --- Frontend Vite ---
# Domaine et URL personnalisés pour un serveur ChatKit auto-hébergé (optionnels)
# Activez ces variables si vous exposez votre propre implémentation compatible
# avec le protocole ChatKit (par exemple en utilisant `openai-chatkit`).
# Le frontend basculera alors sur cette URL au lieu de récupérer un client
# secret via l'API hébergée.
#
# Le frontend ne nécessite plus de clé API OpenAI : tous les secrets de session
# sont désormais générés via le backend `/api/chatkit/session`.
# VITE_CHATKIT_API_URL="https://chatkit.example.com/chatkit"
# VITE_CHATKIT_DOMAIN_KEY="domain_pk_..." # indispensable dès que vous exposez le frontend sur un domaine vérifié
# VITE_CHATKIT_SKIP_DOMAIN_VERIFICATION="true" # court-circuite la vérification distante (développement uniquement)
# VITE_CHATKIT_UPLOAD_STRATEGY="two_phase"   # ou "direct"
# VITE_CHATKIT_DIRECT_UPLOAD_URL="https://chatkit.example.com/upload" # requis si stratégie "direct"
# VITE_CHATKIT_FORCE_HOSTED="false" # mettre à "true" pour revenir au flux client_secret historique

# Port d'exposition du serveur Vite (optionnel)
# VITE_PORT=5183

# Hôte utilisé pour les connexions HMR (optionnel, utile derrière un tunnel/proxy)
# VITE_HMR_HOST="localhost"
# Exemple derrière Nginx : VITE_HMR_HOST="chatkit.example.com"

# Liste d'hôtes supplémentaires autorisés par Vite (séparés par des virgules)
# VITE_ALLOWED_HOSTS="chatkit.example.com"

# Paramétrage du mode voix côté frontend (optionnel)
# Ces variables permettent d'activer la page /voice et de fournir des valeurs par défaut.
# VITE_VOICE_SESSION_URL="/api/chatkit/voice/session" # endpoint appelé pour générer un secret Realtime éphémère
# VITE_VOICE_DEFAULT_MODEL="gpt-4o-realtime-preview-2024-12-17" # modèle préféré côté navigateur
# VITE_VOICE_DEFAULT_INSTRUCTIONS="Sois chaleureux et garde des réponses courtes" # instructions envoyées si aucune valeur admin
# VITE_VOICE_DEFAULT_VOICE="verse" # voix choisie lorsque l'admin n'a pas encore personnalisé le mode voix

# Protocole et port HMR à ajuster selon votre configuration réseau (optionnels)
# VITE_HMR_PROTOCOL="ws"
# VITE_HMR_CLIENT_PORT=5183
# Exemple derrière Nginx : VITE_HMR_PROTOCOL="wss" et VITE_HMR_CLIENT_PORT=443

# URL du backend à laquelle proxyfier les appels API depuis le frontend (optionnel)
# VITE_BACKEND_URL="http://127.0.0.1:8000"
# Exemple derrière Nginx : VITE_BACKEND_URL="https://chatkit.example.com/api"
